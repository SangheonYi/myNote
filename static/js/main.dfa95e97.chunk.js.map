{"version":3,"sources":["IsMobile.js","PayReady.js","PayResult.js","App.js","index.js"],"names":["IsMobile","result","navigator","platform","indexOf","toLowerCase","PayReady","state","next_redirect_pc_url","tid","params","cid","partner_order_id","partner_user_id","item_name","quantity","total_amount","vat_amount","tax_free_amount","approval_url","fail_url","cancel_url","this","axios","url","method","headers","Authorization","then","response","data","next_redirect_app_url","window","localStorage","setItem","location","href","React","Component","PayResult","props","getItem","pg_token","search","split","console","log","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mMAWeA,MAXf,WACE,IACIC,EAAS,GAMb,OAJIC,UAAUC,WAC8CF,EAAtD,EAJS,wBAIEG,QAAQF,UAAUC,SAASE,gBAGrCJ,EAGMD,G,OC4CAM,E,4MAlDbC,MAAQ,CACNC,qBAAsB,GACtBC,IAAK,GACLC,OAAQ,CACNC,IAAK,aACLC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,UAAW,2BACXC,SAAU,EACVC,aAAc,KACdC,WAAY,IACZC,gBAAiB,EACjBC,aAAc,kCACdC,SAAU,kCACVC,WAAY,oC,uDAIhB,WAAqB,IACXX,EAAWY,KAAKf,MAAhBG,OACRa,IAAM,CACJC,IAAK,oBACLC,OAAQ,OACRC,QAAS,CACPC,cAAe,2CACf,eAAgB,mDAElBjB,WACCkB,MAAK,SAACC,GAAc,IAAD,EAGhBA,EADFC,KAAQC,EAFU,EAEVA,sBAAuBvB,EAFb,EAEaA,qBAAsBC,EAFnC,EAEmCA,IAE1DuB,OAAOC,aAAaC,QAAQ,MAAOzB,GAE9BuB,OAAOG,SAASC,KADdpC,EACqB+B,EAEAvB,O,oBAI7B,WAAU,IACAA,EAAyBc,KAAKf,MAA9BC,qBACR,OACE,gCACE,0CACA,mBAAG4B,KAAM5B,EAAT,SAAgCA,W,GA9CjB6B,IAAMC,WC4CdC,E,kDA5Cb,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IASRjC,MAAQ,CACNG,OAAQ,CACNC,IAAK,aACLF,IAAKuB,OAAOC,aAAaQ,QAAQ,OACjC7B,iBAAkB,mBAClBC,gBAAiB,kBACjB6B,SAAU,KAhBK,IAEThC,EAAW,EAAKH,MAAhBG,OAEMiC,EACVH,EADFL,SAAYQ,OAJG,OAOjBjC,EAAOgC,SAAWC,EAAOC,MAAM,KAAK,GAPnB,E,qDAoBnB,WAAqB,IACXlC,EAAWY,KAAKf,MAAhBG,OAERa,IAAM,CACJC,IAAK,sBACLC,OAAQ,OACRC,QAAS,CACPC,cAAe,2CACf,eAAgB,mDAElBjB,WACCkB,MAAK,SAACC,GACPgB,QAAQC,IAAIjB,Q,oBAIhB,WACE,OACE,8BACE,mD,GAxCgBQ,IAAMC,W,eCYfS,E,4JATb,WACE,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAO,EAAMC,UAAW5C,IACxC,cAAC,IAAD,CAAO0C,KAAK,aAAaE,UAAWX,W,GAL1BF,IAAMC,WCDxBa,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.dfa95e97.chunk.js","sourcesContent":["function IsMobile() {\n  const filter = \"win16|win32|win64|mac\";\n  let result = \"\";\n\n  if (navigator.platform) {\n    if (0 > filter.indexOf(navigator.platform.toLowerCase())) result = true;\n    else result = false;\n  }\n  return result;\n}\n\nexport default IsMobile();\n","import React from \"react\";\nimport axios from \"axios\";\nimport IsMobile from \"./IsMobile\";\n\nclass PayReady extends React.Component {\n  state = {\n    next_redirect_pc_url: \"\",\n    tid: \"\",\n    params: {\n      cid: \"TC0ONETIME\",\n      partner_order_id: \"partner_order_id\",\n      partner_user_id: \"partner_user_id\",\n      item_name: \"초코파이\",\n      quantity: 1,\n      total_amount: 2200,\n      vat_amount: 200,\n      tax_free_amount: 0,\n      approval_url: \"http://localhost:3000/payresult\",\n      fail_url: \"http://localhost:3000/payresult\",\n      cancel_url: \"http://localhost:3000/payresult\",\n    },\n  };\n\n  componentDidMount() {\n    const { params } = this.state;\n    axios({\n      url: \"/v1/payment/ready\",\n      method: \"POST\",\n      headers: {\n        Authorization: \"KakaoAK de0e3076b485b703b1f1a4a2419440e6\",\n        \"Content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      params,\n    }).then((response) => {\n      const {\n        data: { next_redirect_app_url, next_redirect_pc_url, tid },\n      } = response;\n\t  window.localStorage.setItem(\"tid\", tid);\n      if (IsMobile)\n        window.location.href = next_redirect_app_url;\n      else\n        window.location.href = next_redirect_pc_url;\n    });\n  }\n\n  render() {\n    const { next_redirect_pc_url } = this.state;\n    return (\n      <div>\n        <h2>Pay page</h2>\n        <a href={next_redirect_pc_url}>{next_redirect_pc_url}</a>\n      </div>\n    );\n  }\n}\nexport default PayReady;\n","import React from \"react\";\nimport axios from \"axios\";\n\nclass PayResult extends React.Component {\n  constructor(props) {\n    super(props);\n    const { params } = this.state;\n    const {\n      location: { search },\n    } = props;\n\n    params.pg_token = search.split(\"=\")[1];\n  }\n\n  state = {\n    params: {\n      cid: \"TC0ONETIME\",\n      tid: window.localStorage.getItem(\"tid\"),\n      partner_order_id: \"partner_order_id\",\n      partner_user_id: \"partner_user_id\",\n      pg_token: \"\",\n    },\n  };\n\n  componentDidMount() {\n    const { params } = this.state;\n\n    axios({\n      url: \"/v1/payment/approve\",\n      method: \"POST\",\n      headers: {\n        Authorization: \"KakaoAK de0e3076b485b703b1f1a4a2419440e6\",\n        \"Content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      params,\n    }).then((response) => {\n      console.log(response);\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Result page</h2>\n      </div>\n    );\n  }\n}\nexport default PayResult;\n","import React from \"react\";\nimport PayReady from \"./PayReady\";\nimport PayResult from \"./PayResult\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Route path=\"/\" exact={true} component={PayReady} />\n        <Route path=\"/payresult\" component={PayResult} />\n      </BrowserRouter>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}