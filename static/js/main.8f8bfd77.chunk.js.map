{"version":3,"sources":["IsMobile.js","PayReady.js","PayResult.js","App.js","index.js"],"names":["IsMobile","result","navigator","platform","indexOf","toLowerCase","PayReady","state","next_redirect_pc_url","tid","params","cid","partner_order_id","partner_user_id","item_name","quantity","total_amount","vat_amount","tax_free_amount","approval_url","fail_url","cancel_url","this","console","log","axios","url","method","headers","Authorization","then","response","data","next_redirect_app_url","window","localStorage","setItem","location","href","React","Component","PayResult","props","getItem","pg_token","search","split","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"mMAWeA,MAXf,WACE,IACIC,EAAS,GAMb,OAJIC,UAAUC,WAC8CF,EAAtD,EAJS,wBAIEG,QAAQF,UAAUC,SAASE,gBAGrCJ,EAGMD,G,OC8CAM,E,4MApDbC,MAAQ,CACNC,qBAAsB,GACtBC,IAAK,GACLC,OAAQ,CACNC,IAAK,aACLC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,UAAW,2BACXC,SAAU,EACVC,aAAc,KACdC,WAAY,IACZC,gBAAiB,EACjBC,aAAc,kCACdC,SAAU,kCACVC,WAAY,oC,uDAIhB,WAAqB,IACXX,EAAWY,KAAKf,MAAhBG,OACRa,QAAQC,IAAI,mBAEZC,IAAM,CACJC,IAAK,oBACLC,OAAQ,OACRC,QAAS,CACPC,cAAe,2CACf,eAAgB,mDAElBnB,WACCoB,MAAK,SAACC,GAAc,IAAD,EAGhBA,EADFC,KAAQC,EAFU,EAEVA,sBAAuBzB,EAFb,EAEaA,qBAAsBC,EAFnC,EAEmCA,IAE1DyB,OAAOC,aAAaC,QAAQ,MAAO3B,GAE9ByB,OAAOG,SAASC,KADdtC,EACqBiC,EAEAzB,O,oBAI7B,WAAU,IACAA,EAAyBc,KAAKf,MAA9BC,qBACR,OACE,gCACE,0CACA,mBAAG8B,KAAM9B,EAAT,SAAgCA,W,GAhDjB+B,IAAMC,WC4CdC,E,kDA5Cb,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IASRnC,MAAQ,CACNG,OAAQ,CACNC,IAAK,aACLF,IAAKyB,OAAOC,aAAaQ,QAAQ,OACjC/B,iBAAkB,mBAClBC,gBAAiB,kBACjB+B,SAAU,KAhBK,IAETlC,EAAW,EAAKH,MAAhBG,OAEMmC,EACVH,EADFL,SAAYQ,OAJG,OAOjBnC,EAAOkC,SAAWC,EAAOC,MAAM,KAAK,GAPnB,E,qDAoBnB,WAAqB,IACXpC,EAAWY,KAAKf,MAAhBG,OAERe,IAAM,CACJC,IAAK,sBACLC,OAAQ,OACRC,QAAS,CACPC,cAAe,2CACf,eAAgB,mDAElBnB,WACCoB,MAAK,SAACC,GACPR,QAAQC,IAAIO,Q,oBAIhB,WACE,OACE,8BACE,mD,GAxCgBQ,IAAMC,W,eCafO,E,4JAVb,WAEE,OADAxB,QAAQC,IAAI,cAEV,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwB,KAAK,IAAIC,OAAO,EAAMC,UAAW5C,IACxC,cAAC,IAAD,CAAO0C,KAAK,aAAaE,UAAWT,W,GAN1BF,IAAMC,WCDxBW,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.8f8bfd77.chunk.js","sourcesContent":["function IsMobile() {\n  const filter = \"win16|win32|win64|mac\";\n  let result = \"\";\n\n  if (navigator.platform) {\n    if (0 > filter.indexOf(navigator.platform.toLowerCase())) result = true;\n    else result = false;\n  }\n  return result;\n}\n\nexport default IsMobile();\n","import React from \"react\";\nimport axios from \"axios\";\nimport IsMobile from \"./IsMobile\";\n\nclass PayReady extends React.Component {\n  state = {\n    next_redirect_pc_url: \"\",\n    tid: \"\",\n    params: {\n      cid: \"TC0ONETIME\",\n      partner_order_id: \"partner_order_id\",\n      partner_user_id: \"partner_user_id\",\n      item_name: \"초코파이\",\n      quantity: 1,\n      total_amount: 2200,\n      vat_amount: 200,\n      tax_free_amount: 0,\n      approval_url: \"http://localhost:3000/payresult\",\n      fail_url: \"http://localhost:3000/payresult\",\n      cancel_url: \"http://localhost:3000/payresult\",\n    },\n  };\n\n  componentDidMount() {\n    const { params } = this.state;\n    console.log(\"PayReady called\");\n\n    axios({\n      url: \"/v1/payment/ready\",\n      method: \"POST\",\n      headers: {\n        Authorization: \"KakaoAK de0e3076b485b703b1f1a4a2419440e6\",\n        \"Content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      params,\n    }).then((response) => {\n      const {\n        data: { next_redirect_app_url, next_redirect_pc_url, tid },\n      } = response;\n\t  window.localStorage.setItem(\"tid\", tid);\n      if (IsMobile)\n        window.location.href = next_redirect_app_url;\n      else\n        window.location.href = next_redirect_pc_url;\n    });\n  }\n\n  render() {\n    const { next_redirect_pc_url } = this.state;\n    return (\n      <div>\n        <h2>Pay page</h2>\n        <a href={next_redirect_pc_url}>{next_redirect_pc_url}</a>\n      </div>\n    );\n  }\n}\nexport default PayReady;\n","import React from \"react\";\nimport axios from \"axios\";\n\nclass PayResult extends React.Component {\n  constructor(props) {\n    super(props);\n    const { params } = this.state;\n    const {\n      location: { search },\n    } = props;\n\n    params.pg_token = search.split(\"=\")[1];\n  }\n\n  state = {\n    params: {\n      cid: \"TC0ONETIME\",\n      tid: window.localStorage.getItem(\"tid\"),\n      partner_order_id: \"partner_order_id\",\n      partner_user_id: \"partner_user_id\",\n      pg_token: \"\",\n    },\n  };\n\n  componentDidMount() {\n    const { params } = this.state;\n\n    axios({\n      url: \"/v1/payment/approve\",\n      method: \"POST\",\n      headers: {\n        Authorization: \"KakaoAK de0e3076b485b703b1f1a4a2419440e6\",\n        \"Content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      params,\n    }).then((response) => {\n      console.log(response);\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Result page</h2>\n      </div>\n    );\n  }\n}\nexport default PayResult;\n","import React from \"react\";\nimport PayReady from \"./PayReady\";\nimport PayResult from \"./PayResult\";\nimport { HashRouter, Route } from \"react-router-dom\";\n\nclass App extends React.Component {\n  render() {\n    console.log(\"App called\");\n    return (\n      <HashRouter>\n        <Route path=\"/\" exact={true} component={PayReady} />\n        <Route path=\"/payresult\" component={PayResult} />\n      </HashRouter>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}